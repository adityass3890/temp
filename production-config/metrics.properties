# Spark Metrics Configuration for Production DLM Migration
# Copy this file to $SPARK_HOME/conf/metrics.properties

# Enable metrics system
*.sink.console.class=org.apache.spark.metrics.sink.ConsoleSink
*.sink.console.period=30
*.sink.console.unit=seconds

# JMX metrics sink
*.sink.jmx.class=org.apache.spark.metrics.sink.JmxSink

# CSV metrics sink for historical data
*.sink.csv.class=org.apache.spark.metrics.sink.CsvSink
*.sink.csv.period=10
*.sink.csv.unit=seconds
*.sink.csv.directory=/app/tetra/DLM/logs/metrics

# Graphite sink for monitoring systems (uncomment if using Graphite)
#*.sink.graphite.class=org.apache.spark.metrics.sink.GraphiteSink
#*.sink.graphite.host=monitoring.company.com
#*.sink.graphite.port=2003
#*.sink.graphite.period=30
#*.sink.graphite.unit=seconds
#*.sink.graphite.prefix=dlm.migration

# Prometheus sink (uncomment if using Prometheus)
#driver.source.jvm.class=org.apache.spark.metrics.source.JvmSource
#executor.source.jvm.class=org.apache.spark.metrics.source.JvmSource

# Application-specific metrics
application.sink.csv.class=org.apache.spark.metrics.sink.CsvSink
application.sink.csv.period=30
application.sink.csv.unit=seconds
application.sink.csv.directory=/app/tetra/DLM/logs/app-metrics

# Driver metrics
driver.sink.console.class=org.apache.spark.metrics.sink.ConsoleSink
driver.sink.console.period=60
driver.sink.console.unit=seconds

# Executor metrics
executor.sink.console.class=org.apache.spark.metrics.sink.ConsoleSink
executor.sink.console.period=60
executor.sink.console.unit=seconds

# Streaming metrics (if using structured streaming)
streaming.sink.console.class=org.apache.spark.metrics.sink.ConsoleSink
streaming.sink.console.period=30
streaming.sink.console.unit=seconds